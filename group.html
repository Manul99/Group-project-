
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel=”stylesheet” href=”https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css” />
    <script src="https://www.gstatic.com/firebasejs/8.3.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.3/firebase-database.js"></script>
    <link rel="stylesheet" href="group.css">
    <title>Construction Company</title>
</head>
<body>

    <div id="viewport">
        <!-- Sidebar -->
        <div id="sidebar">
          <header>
            <a href="#">Smart Helmet</a>
          </header>
          <br>
          <center><img src="construction.jpg" width="150" height="150" style="border-radius: 15%;"></center>
          <br>
          <ul class="nav">
            <li>
              <a href="#">
                <a class="nav-link active link-light" aria-current="page" href="#" style="color:white"><img src="geo-alt.svg"><i></i>Location of the worker</a>
              </a>
              
            </li>
            <li>
               <a class="nav-link active link-light" aria-current="page" href="http://127.0.0.1:5500/Group-project-/air.html" ><img src="wind.svg"><i></i>Quality of the air</a>
            </li>
            <li>
                <a class="nav-link active link-light" aria-current="page" href="http://127.0.0.1:5500/Group-project-/temp.html"><img src="thermometer-half.svg"><i></i>Tempreature</a>
            </li>
            <li>
                <a class="nav-link active link-light" aria-current="page" href="http://127.0.0.1:5500/Group-project-/liveLocation.html"><img src="geo-fill.svg">Live Location of the worker</a>
            </li>
            <li><br><br><br><br>
                <a class="nav-link active link-light" aria-current="page" href="#"><img src="customer-support.png" width="20" height="20"><i></i>Services</a>
            </li>
          </ul>
        </div>
        <!-- Content -->
        <div id="content">
          <nav class="navbar navbar-default">
            <div class="container-fluid">
              <ul class="nav navbar-nav navbar-right">
                <div class="d-flex flex-row-reverse">
                <h3 style="color:white; display:block; margin:auto" class="align-items-end" id="fire">Construction company</h3>
              </div>
              </ul>
            </div>
          </nav><br>
          <div class="container-fluid">
            <h1>Location of the Worker</h1>
            <br><br>
            <div class="card card-header d-flex p-5 mx-5" style="width: 95%;height:500px"><br>
              <div class="d-inline-flex p-2 ">
                <div class="worker border border-dark w-25 p-5 mx-5"  style="width: 55%;">
                  <center> <h4>Worker 01</h4></center><br>
                  <h5>Manul</h5>
                  <h5 id="location">1st floor</h5><br>
                  <h4 id="button" style="color:red"></h4>
         
               </div>
               
               <div class="worker border border-dark w-25 p-5 mx-5">
                <center> <h4>Worker 02</h4></center><br>
               <h5>Navodh</h5>
               <h5>2nd Floor</h5><br>
               <h4 style="color:red;">False</h4>
             </div>          
             
           
          
            </div>
            
             
        </div>
          </div>
        </div><br>
      </div>
      
<script>
   const firebaseConfig = {
    apiKey: "AIzaSyDfT86vK4LbWRkcVW_reFR1NmOJ-kBgNbE",
    authDomain: "computing-3cb05.firebaseapp.com",
    databaseURL: "https://computing-3cb05-default-rtdb.firebaseio.com",
    projectId: "computing-3cb05",
    storageBucket: "computing-3cb05.appspot.com",
    messagingSenderId: "567991339066",
    appId: "1:567991339066:web:310f301a158048333e0d03",
    measurementId: "G-4CTBW8NX4V"
  };
   
   //Initialize firebase
   firebase.initializeApp(firebaseConfig);

   //get a reference to  the database service
   var database=firebase.database();

     // Get a reference to the node
  var dataRef=database.ref('Button');

//Retrieve the data to the website
  dataRef.child('status').once('value').then(function(snapshot){
    var status=snapshot.val();
    console.log(status);

// Display the sensor value in website
    document.getElementById('button').innerHTML=status;
    
  });
   /*
    // Get a reference to the node
    
   var switchRef=database.ref('Button');
   switchRef.on('value', function(snapshot) {
  var switchValue = snapshot.val();
  console.log('Switch value:', switchValue);

  var switchElement = document.getElementById('button');

  if (switchValue) {
    console.log('Switch is off');
    clearInterval(blinkInterval);
    switchElement.style.visibility = '';
    switchElement.innerHTML = 'Worker is OK';
    
  } else {
    console.log('Switch is on');
    var blinkInterval = setInterval(function() {
      switchElement.style.visibility = switchElement.style.visibility === 'hidden' ? '' : 'hidden';
    }, 500);
    switchElement.innerHTML = 'EMERGENCY';
  }
});
*/

  </script>


<script>
 //get a reference to  the database service
  var database=firebase.database();

  // Get a reference to the node
  var dataRef=database.ref('IR Sensor');

//Retrieve the data to the website
  dataRef.child('status').once('value').then(function(snapshot){
    var status=snapshot.val();
    console.log(status);

// Display the sensor value in website
    document.getElementById('fire').innerHTML=status;
    
  });
</script>




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</body>
</html>

